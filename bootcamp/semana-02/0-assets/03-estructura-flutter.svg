<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700">
  <!-- Background -->
  <rect width="900" height="700" fill="#1e1e1e"/>
  
  <!-- Title -->
  <text x="450" y="35" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#569cd6" text-anchor="middle">
    Arquitectura de Flutter
  </text>
  
  <!-- Framework Layer (Top) -->
  <g id="framework-layer">
    <rect x="50" y="70" width="800" height="140" rx="8" fill="#252526" stroke="#569cd6" stroke-width="3"/>
    <text x="450" y="95" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#569cd6" text-anchor="middle">
      Framework (Dart)
    </text>
    
    <!-- Material and Cupertino -->
    <g id="design-systems">
      <rect x="70" y="110" width="180" height="80" rx="6" fill="#2d2d30" stroke="#4ec9b0" stroke-width="2"/>
      <text x="160" y="135" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#4ec9b0" text-anchor="middle">Material Design</text>
      <text x="160" y="155" font-family="Consolas, monospace" font-size="11" fill="#9cdcfe" text-anchor="middle">MaterialApp</text>
      <text x="160" y="170" font-family="Consolas, monospace" font-size="11" fill="#9cdcfe" text-anchor="middle">Scaffold</text>
      <text x="160" y="185" font-family="Consolas, monospace" font-size="11" fill="#9cdcfe" text-anchor="middle">AppBar, Card...</text>
      
      <rect x="270" y="110" width="180" height="80" rx="6" fill="#2d2d30" stroke="#c586c0" stroke-width="2"/>
      <text x="360" y="135" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#c586c0" text-anchor="middle">Cupertino (iOS)</text>
      <text x="360" y="155" font-family="Consolas, monospace" font-size="11" fill="#9cdcfe" text-anchor="middle">CupertinoApp</text>
      <text x="360" y="170" font-family="Consolas, monospace" font-size="11" fill="#9cdcfe" text-anchor="middle">CupertinoNavigationBar</text>
      <text x="360" y="185" font-family="Consolas, monospace" font-size="11" fill="#9cdcfe" text-anchor="middle">CupertinoButton...</text>
    </g>
    
    <!-- Widgets Foundation -->
    <g id="widgets-foundation">
      <rect x="470" y="110" width="360" height="80" rx="6" fill="#2d2d30" stroke="#dcdcaa" stroke-width="2"/>
      <text x="650" y="135" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#dcdcaa" text-anchor="middle">Widgets Foundation</text>
      
      <rect x="485" y="147" width="110" height="38" rx="4" fill="#1e1e1e" stroke="#569cd6"/>
      <text x="540" y="162" font-family="Consolas, monospace" font-size="10" fill="#569cd6" text-anchor="middle">StatelessWidget</text>
      <text x="540" y="177" font-family="Arial, sans-serif" font-size="9" fill="#9cdcfe" text-anchor="middle">Inmutable</text>
      
      <rect x="605" y="147" width="110" height="38" rx="4" fill="#1e1e1e" stroke="#c586c0"/>
      <text x="660" y="162" font-family="Consolas, monospace" font-size="10" fill="#c586c0" text-anchor="middle">StatefulWidget</text>
      <text x="660" y="177" font-family="Arial, sans-serif" font-size="9" fill="#9cdcfe" text-anchor="middle">Con estado</text>
      
      <rect x="725" y="147" width="95" height="38" rx="4" fill="#1e1e1e" stroke="#4ec9b0"/>
      <text x="772" y="162" font-family="Consolas, monospace" font-size="10" fill="#4ec9b0" text-anchor="middle">InheritedWidget</text>
      <text x="772" y="177" font-family="Arial, sans-serif" font-size="9" fill="#9cdcfe" text-anchor="middle">Compartido</text>
    </g>
  </g>
  
  <!-- Rendering Layer (Middle) -->
  <g id="rendering-layer">
    <rect x="50" y="235" width="800" height="140" rx="8" fill="#252526" stroke="#4ec9b0" stroke-width="3"/>
    <text x="450" y="260" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#4ec9b0" text-anchor="middle">
      Rendering Layer
    </text>
    
    <!-- Widget Tree -->
    <g id="widget-tree">
      <rect x="70" y="275" width="230" height="85" rx="6" fill="#2d2d30" stroke="#569cd6" stroke-width="2"/>
      <text x="185" y="297" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#569cd6" text-anchor="middle">Widget Tree</text>
      <text x="185" y="315" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe" text-anchor="middle">Configuración (UI)</text>
      <text x="90" y="335" font-family="Arial, sans-serif" font-size="9" fill="#d4d4d4">• Inmutable</text>
      <text x="90" y="348" font-family="Arial, sans-serif" font-size="9" fill="#d4d4d4">• Reconstruido frecuentemente</text>
    </g>
    
    <!-- Arrow 1 -->
    <path d="M 300 317 L 330 317" stroke="#dcdcaa" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="315" y="312" font-family="Arial, sans-serif" font-size="9" fill="#dcdcaa" text-anchor="middle">build()</text>
    
    <!-- Element Tree -->
    <g id="element-tree">
      <rect x="335" y="275" width="230" height="85" rx="6" fill="#2d2d30" stroke="#c586c0" stroke-width="2"/>
      <text x="450" y="297" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#c586c0" text-anchor="middle">Element Tree</text>
      <text x="450" y="315" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe" text-anchor="middle">Instancias (Gestión)</text>
      <text x="355" y="335" font-family="Arial, sans-serif" font-size="9" fill="#d4d4d4">• Mutable</text>
      <text x="355" y="348" font-family="Arial, sans-serif" font-size="9" fill="#d4d4d4">• Gestiona ciclo de vida</text>
    </g>
    
    <!-- Arrow 2 -->
    <path d="M 565 317 L 595 317" stroke="#dcdcaa" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="580" y="312" font-family="Arial, sans-serif" font-size="9" fill="#dcdcaa" text-anchor="middle">createRenderObject()</text>
    
    <!-- Render Tree -->
    <g id="render-tree">
      <rect x="600" y="275" width="230" height="85" rx="6" fill="#2d2d30" stroke="#4ec9b0" stroke-width="2"/>
      <text x="715" y="297" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#4ec9b0" text-anchor="middle">Render Tree</text>
      <text x="715" y="315" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe" text-anchor="middle">Layout y Paint (Geometría)</text>
      <text x="620" y="335" font-family="Arial, sans-serif" font-size="9" fill="#d4d4d4">• Calcula tamaños/posiciones</text>
      <text x="620" y="348" font-family="Arial, sans-serif" font-size="9" fill="#d4d4d4">• Pinta pixels</text>
    </g>
  </g>
  
  <!-- Engine Layer (Bottom) -->
  <g id="engine-layer">
    <rect x="50" y="400" width="800" height="110" rx="8" fill="#252526" stroke="#c586c0" stroke-width="3"/>
    <text x="450" y="425" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#c586c0" text-anchor="middle">
      Engine (C/C++)
    </text>
    
    <rect x="70" y="440" width="180" height="55" rx="6" fill="#2d2d30" stroke="#4ec9b0" stroke-width="2"/>
    <text x="160" y="460" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4ec9b0" text-anchor="middle">Skia (2D Graphics)</text>
    <text x="160" y="477" font-family="Arial, sans-serif" font-size="9" fill="#9cdcfe" text-anchor="middle">Rendering de alta performance</text>
    <text x="160" y="489" font-family="Arial, sans-serif" font-size="9" fill="#9cdcfe" text-anchor="middle">Dibuja pixels en pantalla</text>
    
    <rect x="270" y="440" width="180" height="55" rx="6" fill="#2d2d30" stroke="#dcdcaa" stroke-width="2"/>
    <text x="360" y="460" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#dcdcaa" text-anchor="middle">Dart Runtime</text>
    <text x="360" y="477" font-family="Arial, sans-serif" font-size="9" fill="#9cdcfe" text-anchor="middle">Gestión de memoria (GC)</text>
    <text x="360" y="489" font-family="Arial, sans-serif" font-size="9" fill="#9cdcfe" text-anchor="middle">Compilación (JIT/AOT)</text>
    
    <rect x="470" y="440" width="180" height="55" rx="6" fill="#2d2d30" stroke="#569cd6" stroke-width="2"/>
    <text x="560" y="460" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#569cd6" text-anchor="middle">Text Rendering</text>
    <text x="560" y="477" font-family="Arial, sans-serif" font-size="9" fill="#9cdcfe" text-anchor="middle">Renderizado de texto</text>
    <text x="560" y="489" font-family="Arial, sans-serif" font-size="9" fill="#9cdcfe" text-anchor="middle">Fuentes, ligaduras</text>
    
    <rect x="670" y="440" width="160" height="55" rx="6" fill="#2d2d30" stroke="#c586c0" stroke-width="2"/>
    <text x="750" y="460" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#c586c0" text-anchor="middle">Platform Channels</text>
    <text x="750" y="477" font-family="Arial, sans-serif" font-size="9" fill="#9cdcfe" text-anchor="middle">Comunicación con</text>
    <text x="750" y="489" font-family="Arial, sans-serif" font-size="9" fill="#9cdcfe" text-anchor="middle">código nativo</text>
  </g>
  
  <!-- Platform Layer (Bottom) -->
  <g id="platform-layer">
    <rect x="50" y="535" width="390" height="80" rx="8" fill="#252526" stroke="#dcdcaa" stroke-width="3"/>
    <text x="245" y="560" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#dcdcaa" text-anchor="middle">
      Platform (Android - Java/Kotlin)
    </text>
    <text x="120" y="583" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe">• Cámara</text>
    <text x="200" y="583" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe">• GPS</text>
    <text x="260" y="583" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe">• Sensores</text>
    <text x="345" y="583" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe">• Bluetooth</text>
    <text x="120" y="600" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe">• Notificaciones</text>
    <text x="240" y="600" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe">• Permisos</text>
    <text x="330" y="600" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe">• Storage</text>
    
    <rect x="460" y="535" width="390" height="80" rx="8" fill="#252526" stroke="#4ec9b0" stroke-width="3"/>
    <text x="655" y="560" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#4ec9b0" text-anchor="middle">
      Platform (iOS - Objective-C/Swift)
    </text>
    <text x="520" y="583" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe">• AVFoundation</text>
    <text x="635" y="583" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe">• CoreLocation</text>
    <text x="520" y="600" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe">• HealthKit</text>
    <text x="610" y="600" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe">• Push Notifications</text>
    <text x="760" y="600" font-family="Arial, sans-serif" font-size="10" fill="#9cdcfe">• Face ID</text>
  </g>
  
  <!-- Flow Explanation -->
  <g id="flow-explanation">
    <text x="50" y="645" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#dcdcaa">Flujo de Renderizado:</text>
    
    <rect x="50" y="655" width="800" height="30" rx="4" fill="#2d2d30"/>
    
    <text x="60" y="673" font-family="Consolas, monospace" font-size="11" fill="#569cd6">1. Widget Tree</text>
    <text x="165" y="673" font-family="Arial, sans-serif" font-size="11" fill="#d4d4d4">→</text>
    
    <text x="185" y="673" font-family="Consolas, monospace" font-size="11" fill="#c586c0">2. Element Tree</text>
    <text x="305" y="673" font-family="Arial, sans-serif" font-size="11" fill="#d4d4d4">→</text>
    
    <text x="325" y="673" font-family="Consolas, monospace" font-size="11" fill="#4ec9b0">3. Render Tree</text>
    <text x="445" y="673" font-family="Arial, sans-serif" font-size="11" fill="#d4d4d4">→</text>
    
    <text x="465" y="673" font-family="Consolas, monospace" font-size="11" fill="#dcdcaa">4. Skia Engine</text>
    <text x="580" y="673" font-family="Arial, sans-serif" font-size="11" fill="#d4d4d4">→</text>
    
    <text x="600" y="673" font-family="Consolas, monospace" font-size="11" fill="#569cd6">5. Pixels en Pantalla</text>
  </g>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#dcdcaa"/>
    </marker>
  </defs>
</svg>
